# =========================================================
# KvDB Admin Service ? application.properties
# =========================================================

# ---------------------------------------------------------
# Server
# ---------------------------------------------------------
server.port=8089
server.shutdown=graceful

spring.application.name=kvdb-admin

# Allow in-flight requests to complete during shutdown
spring.lifecycle.timeout-per-shutdown-phase=30s

# ---------------------------------------------------------
# Actuator / Health
# ---------------------------------------------------------
management.endpoints.web.base-path=/admin/actuator
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when_authorized

# ---------------------------------------------------------
# Logging
# ---------------------------------------------------------
logging.level.root=INFO
logging.level.com.danieljhkim.kvdb=INFO

# ---------------------------------------------------------
# Coordinator (gRPC)
# ---------------------------------------------------------
# Default coordinator endpoints used by the admin service (comma-separated for HA).
# In production this would typically point to all coordinator nodes.
kvdb.coordinator.grpc.address=localhost:9001,localhost:9002,localhost:9003

# gRPC call deadline applied to coordinator requests
kvdb.coordinator.grpc.deadline-ms=1500

# ---------------------------------------------------------
# Storage Nodes (gRPC)
# ---------------------------------------------------------
# Default deadline for node admin calls (health, stats, ops)
kvdb.node.grpc.deadline-ms=1500

# Maximum number of nodes queried in parallel by admin fanout
kvdb.admin.max-node-fanout=8

# ---------------------------------------------------------
# Admin Request Limits
# ---------------------------------------------------------
# Overall timeout budget for a single admin HTTP request
kvdb.admin.request-timeout-ms=3000

# ---------------------------------------------------------
# Future Security Hooks (placeholders)
# ---------------------------------------------------------
# Set to true once authentication/authorization is enforced
kvdb.admin.security.enabled=true
# Allowed IPs: localhost + Docker bridge network (172.16.0.0/12) + common private networks
kvdb.admin.security.allowed-ips=127.0.0.1/32,::1/128,172.16.0.0/12,10.0.0.0/8,192.168.0.0/16
kvdb.admin.security.api-key=dev-secret

# Allowed CIDR ranges or IPs for admin access (future use)
# kvdb.admin.security.allowlist=127.0.0.1/32

# ---------------------------------------------------------
# Serialization
# ---------------------------------------------------------
spring.jackson.serialization.indent-output=true
